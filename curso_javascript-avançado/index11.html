<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Promise.all</title>
</head>
<body>
  <button>Executar</button>
  <script>
    function testPromise() {
      console.log("sync started")

      const p1 = new Promise((resolve, reject) => {
      setTimeout(() => {
        console.log("P1 finished")
      resolve(1)
      }, 1000)
    })
    
      const p2 = new Promise((resolve, reject) => {
      setTimeout(() => {
        console.log("P2 finished")
      resolve(2)
      }, 2000)
    })

      const p3 = new Promise((resolve, reject) => {
      setTimeout(() => {
        console.log("P3 finished")
      //resolve(3)
      reject(3)
      }, 3000)
    })

    // p1.then(() => {
    //   p2.then(() => {
    //     p3.then(() => {
    //       // resultado final depois de chamar as promisses
    //     })
    //   })
    // })

    Promise.all([p1, p2, p3])
    .then((values) => {
      console.log("promises values", values)
    })
    .catch(() => {
      console.log("promises error")
    })

    console.log("sync finish")
    }

    const buttonE1 = document.querySelector("button")
    buttonE1.addEventListener("click", testPromise)
  </script>
</body>
</html>